@using static RestaurantsPlatform.Common.GlobalConstants
@model IEnumerable<RestaurantsPlatform.Web.ViewModels.Categories.AllCategoriesViewModel>

@{
    ViewData["Title"] = "Restaurant Categories";
}

<h1 class="m-4 text-center">Restaurant categories</h1>

<div class="row d-flex justify-content-around">
    @foreach (var category in Model)
    {
        <div class="row col-md-6 col-lg-4 media mb-4">
            <div class="position-relative imageContainer">
                <img src="@category.ImageImageUrl" class="mr-3 rounded-lg w-100" alt="@category.Title">
                @if (this.User.IsInRole(AdministratorRoleName))
                {
                    <a class="btn btn-primary position-absolute rounded-pill pictureBtn" asp-route="categoryImage" asp-route-id="@category.Id" asp-route-name="@category.UrlName" asp-route-action="update" asp-route-imageUrl="@category.ImageImageUrl">
                        Change Picture
                    </a>
                }
            </div>
            <div class="media-body">
                <h5 class="mt-2">
                    <a asp-route="category" asp-route-name="@category.UrlName" asp-route-id="@category.Id">
                        @category.Name (@category.RestaurantsCount)
                    </a>
                </h5>
                <hr class="mb-3" />
                <p class="">
                    @category.ShortDescription
                </p>
            </div>
        </div>
    }
</div>


@section scripts{ 
    <script type="text/javascript" src="~/js/functions/imagesButtonsFunction.js"></script>
}