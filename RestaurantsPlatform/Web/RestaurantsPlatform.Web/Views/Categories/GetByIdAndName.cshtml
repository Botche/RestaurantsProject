@using static RestaurantsPlatform.Common.GlobalConstants
@using RestaurantsPlatform.Web.ViewModels.PartialModels;
@model RestaurantsPlatform.Web.ViewModels.Categories.DetailsCategoryViewModel

@{
    ViewData["Title"] = Model.Name;

    var partialModel = new HeadingPartialViewModel(Model.Name, "default", "categories", null, "all", null);
}


<div class="border-info text-center">
    <partial name="./PartialViews/_Heading" model="partialModel" />
    <p>
        @Model.Description
    </p>
</div>

@if (this.User.IsInRole(AdministratorRoleName))
{
    <div class="text-center">
        <a class="btn btn-outline-info" asp-route="categoryWithAction" asp-route-name="@Model.Url" asp-route-id="@Model.Id" asp-route-action="update">
            Update
        </a>
        <a class="btn btn-outline-danger" asp-route="categoryWithAction" asp-route-name="@Model.Url" asp-route-id="@Model.Id" asp-route-action="delete">
            Delete
        </a>
    </div>
}

<div class="row d-flex justify-content-around">
    @foreach (var restaurant in Model.Restaurants)
    {
        <partial name="./PartialViews/_RestaurantDetailsInCategoryDetails" model="restaurant" />
    }
</div>

<partial name="./PartialViews/_RestaurantsPaginationView" model="@Model" />

@section scripts{
    <script type="text/javascript" src="~/js/functions/determinateRestaurantStatusByWorkingTime.js"></script>
    <script type="text/javascript" src="~/js/functions/favouriteButtonInCategoryView.js"></script>
}